{"version":3,"file":"js/about.d74f4ed7.js","mappings":"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","sources":["webpack://vue-project/./src/views/Login/LoginView.vue","webpack://vue-project/src/views/Login/LoginView.vue","webpack://vue-project/./src/views/Login/LoginView.vue?508f","webpack://vue-project/./src/views/Login/LoginView.vue?2ae7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-box\",attrs:{\"model\":_vm.form,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"user\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.form.user),callback:function ($$v) {_vm.$set(_vm.form, \"user\", $$v)},expression:\"form.user\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},on:{\"blur\":()=>{\n                    this.isPwdOk = false;\n                    this.level = null;\n                    this.$refs.loginForm.clearValidate('repwd'); // 移出验证结果\n                }},model:{value:(_vm.form.pwd),callback:function ($$v) {_vm.$set(_vm.form, \"pwd\", $$v)},expression:\"form.pwd\"}}),(_vm.isPwdOk)?_c('div',{staticClass:\"pwdTips\"},[(_vm.level == 1)?_c('span',[_vm._v(\"弱\")]):_vm._e(),(_vm.level == 2)?_c('span',[_vm._v(\"中\")]):_vm._e(),(_vm.level == 3)?_c('span',[_vm._v(\"强\")]):_vm._e(),(_vm.level == 4)?_c('span',[_vm._v(\"超强\")]):_vm._e()]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"repwd\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.form.repwd),callback:function ($$v) {_vm.$set(_vm.form, \"repwd\", $$v)},expression:\"form.repwd\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitHandler}},[_vm._v(\"提交\")]),_c('el-button',[_vm._v(\"重置\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login\">\r\n    <el-form class=\"login-box\" :model=\"form\" status-icon :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\" >\r\n      <el-form-item label=\"用户名\" prop=\"user\">\r\n         <el-input type=\"text\" v-model=\"form.user\" autocomplete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"pwd\">\r\n         <el-input type=\"text\" v-model=\"form.pwd\" autocomplete=\"off\"  @blur=\"()=>{\r\n                    this.isPwdOk = false;\r\n                    this.level = null;\r\n                    this.$refs.loginForm.clearValidate('repwd'); // 移出验证结果\r\n                }\"></el-input>\r\n                 <div class=\"pwdTips\" v-if=\"isPwdOk\">\r\n                    <span v-if=\"level == 1\">弱</span>\r\n                    <span v-if=\"level == 2\">中</span>\r\n                    <span v-if=\"level == 3\">强</span>\r\n                    <span v-if=\"level == 4\">超强</span>\r\n                </div>\r\n      </el-form-item>\r\n     <el-form-item label=\"确认密码\" prop=\"repwd\">\r\n         <el-input type=\"text\" v-model=\"form.repwd\" autocomplete=\"off\"></el-input>\r\n      </el-form-item>\r\n     <el-form-item>\r\n         <el-button type=\"primary\"  @click=\"submitHandler\">提交</el-button>\r\n         <el-button>重置</el-button>\r\n      </el-form-item>\r\n  </el-form>\r\n</div>\r\n</template>\r\n<script>\r\n    //引入接口\r\n    // import {adminLoginApi} from '@/api/admin'\r\n    //引入vuex\r\n    // import  {mapMutations} from 'vuex'\r\n    //直接引入actions里面的方法\r\n    import  {mapActions} from 'vuex'\r\n export default {\r\n    name:'LoginView',\r\n    data(){\r\n      //在返回的对象前面自己加一个函数,然后再在下面写自己的业务逻辑，就是放在对象里面规定格式\r\n        // rule   当前验证规则的字段信息(对象)\r\n        // value => 验证函数被触发 表单对应的值\r\n        // callback()  => 验证时的提示回调  如果回调函数中有内容 => 错误提示  没有内容 => 成功提示\r\n\r\n        // 写成箭头函数 !!!   this => 当前实例 (如果是普通函数指向当前rule对象)\r\n        let validateUser = (rule, value, callback) => {\r\n            console.log(rule, value, callback);\r\n            var reg = /^[a-zA-Z]\\w{2,6}$/;\r\n            if (!value) {\r\n                callback(\"请输入用户名!\")\r\n            } else if (!(value.length >= 3 && value.length <= 7)) {\r\n                callback(\"用户名长度在 3 到 7 个字符!\")\r\n            } else if (!reg.test(value)) {\r\n                callback(\"用户名由数字,字母,下划线组成,且不能以数字开头\");\r\n            } else {\r\n                callback()\r\n            }\r\n        };\r\n        let validatePwd = (rule, value, callback) => {\r\n            // console.log(rule, value, callback);\r\n            // 密码格式成功 -> 验证密码强度\r\n            // 数字 大写  小写  _   \r\n            var isExistNum = /[0-9]/.test(value);\r\n            var isExistSmall = /[a-z]/.test(value);\r\n            var isExistBig = /[A-Z]/.test(value);\r\n            var isExistSpe = /_/.test(value);\r\n\r\n            var level = isExistNum + isExistSmall + isExistBig + isExistSpe;\r\n\r\n            console.log(\"this\", this);\r\n\r\n            this.isPwdOk = true;\r\n            this.level = level;\r\n\r\n            // 每次密码改动之后 => 需要重新确认再次输入的密码是否正确\r\n            if(this.form.repwd){   // 有值再验证\r\n              //refs 就是根据自己绑定的直接去找到对应的标签  ref=\"loginForm\r\n                this.$refs.loginForm.validateField(\"repwd\");\r\n            }\r\n            callback();\r\n        };\r\n        let validateRepwd = (rule,value,callback)=>{\r\n            if(!this.form.pwd){ // 密码没有输入\r\n                callback(\"请先输入密码,然后确认\");\r\n            }else if(this.isPwdOk==false){ // 密码格式有误\r\n                callback(\"密码格式有误,请先修改密码\");\r\n            }else if(this.form.pwd != this.form.repwd){\r\n                callback(\"两次密码输入不一致\");\r\n            }else{\r\n                callback();\r\n            }\r\n        }\r\n        return{\r\n          isPwdOk: false,\r\n          level: null,\r\n          form:{\r\n              user:'',\r\n              pwd:'',\r\n              repwd:''\r\n          },\r\n          rules: {\r\n          user: [\r\n            // { type:'string',required:true,message:\"请输入用户名\", trigger: 'blur' },\r\n            // { min:3,max:7, message:\"有效长度三到七\",trigger: 'blur' },\r\n            // { pattern:/^[a-zA-Z]\\w{2,6}$/, message: '用户名由数字,字母,下划线组成,且不能以数字开头', trigger: 'blur'},\r\n            //使用函数的形式来判断\r\n            // 自定义验证函数\r\n           { type: \"string\", required: true, pattern: /^[a-zA-Z]\\w{2,6}$/, validator: validateUser, trigger: 'blur' }\r\n              ],\r\n          pwd: [\r\n            // 必填\r\n            { type: 'string', required: true, message: '请输入密码!', trigger: 'blur' },\r\n            // 长度3-7\r\n            { min: 6, max: 12, message: '密码长度在 6 到 12 个字符', trigger: 'blur' },\r\n            // 格式(正则)\r\n           { pattern: /^\\w{6,12}$/, message: '密码由数字,字母,下划线组成,且不能以数字开头', trigger: 'blur' },\r\n          // 自定义验证函数\r\n          { validator: validatePwd, trigger: 'blur' }\r\n          ],\r\n          repwd: [\r\n          { validator: validateRepwd, trigger: 'blur' }\r\n          ]\r\n        },\r\n        }\r\n    },\r\n    methods:{\r\n        //引用vuex里面辅助函数  成功直接调用up这个函数吧东西存进去\r\n        ...mapActions(['loginAndUpdateAuthorityInfo']),\r\n        //直接调用这个方法去 拿数据\r\n      submitHandler(){\r\n            this.$refs.loginForm.validate().then(res=>{\r\n                console.log(\"校验成功\",res);\r\n                // adminLoginApi({\r\n                // adminname:this.form.user,\r\n                // password:this.form.pwd\r\n                //  }).then(res=>{\r\n                // console.log('请求成功',res)\r\n                // //请求成功里面还有很多情况，比如没用注册 或者密码错误\r\n                // //解构\r\n                // let {code,message,data}=res;\r\n                // if(code== 200){\r\n                //         this.$message({\r\n                //             type:\"success\",\r\n                //             message:message\r\n                //         })\r\n                //         //成功存进vuex\r\n                //         this.updateAuthorityInfo(data);\r\n                //         // this.$router.push(\"/\");\r\n                //     }\r\n                //     // else {\r\n                //     //     this.$message({\r\n                //     //         type:\"error\",\r\n                //     //         message:message\r\n                //     //     })\r\n                //     // }\r\n                // }).catch(err=>{\r\n                //     console.log('请求失败',err)\r\n                //     // throw err;\r\n                //     this.$message.error({\r\n                //             type:\"success\",\r\n                //             message:err.message\r\n                //         })\r\n                // })\r\n                //因为这是挂载在vuex上面的所以要用this 上面的那个是直接用api接口\r\n               this.loginAndUpdateAuthorityInfo({\r\n                    adminname:this.form.user,\r\n                    password:this.form.pwd\r\n               }).then(data=>{\r\n                console.log(\"登录成功\",data);\r\n                this.$message({\r\n                        type:\"success\",\r\n                        message:\"登录成功!\"\r\n                        \r\n                    })\r\n                    this.$router.push('/')\r\n               }).catch(err=>{\r\n                console.log(\"出现错误\",err);\r\n                    this.$message({\r\n                        type:\"error\",\r\n                        message:err.message\r\n                    })\r\n               })\r\n            }).catch(err=>{\r\n                    console.log('失败',err)\r\n            })\r\n      \r\n        },\r\n       \r\n    },\r\n   \r\n    \r\n \r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .login{\r\n       height: 100%;\r\n       width: 100%;\r\n       background:url(\"https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/167/167-bigskin-5.jpg\" ) no-repeat center center  ;\r\n   \r\n    }\r\n  .login-box{\r\n    width: 500px;\r\n        padding: 40px;\r\n        padding-top: 50px;\r\n        border-radius: 4px;\r\n        background-color: #fff;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%,-50%);\r\n  }\r\n  .pwdTips {\r\n    color: #67C23A;\r\n    font-size: 12px;\r\n    line-height: 1;\r\n    padding-top: 4px;\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=090978aa&scoped=true&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=090978aa&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"090978aa\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","form","rules","model","value","user","callback","$$v","$set","expression","on","blur","isPwdOk","level","$refs","loginForm","clearValidate","pwd","_v","_e","repwd","submitHandler","staticRenderFns","name","data","validateUser","rule","console","log","reg","length","test","validatePwd","isExistNum","isExistSmall","isExistBig","isExistSpe","validateField","validateRepwd","type","required","pattern","validator","trigger","message","min","max","methods","mapActions","validate","then","res","loginAndUpdateAuthorityInfo","adminname","password","$message","$router","push","catch","err","component"],"sourceRoot":""}